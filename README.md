skype2mail
================

ローカルに保存されているSkypeのテキストチャットのログをメールで送信するRubyスクリプト。

1つのチャットの1日分を1通のメールとして送る。しかし1日分のログが多すぎる場合はさらに分割される。Skypeに保存されている最古のログから、スクリプトを実行した前日分までを送信する。次回実行時は、前回実行した続きを送信する。

必要なもの
----------------

* Skypeインストール済みのコンピュータ(Macでしかテストしてない)
* 送信に使用するメールアカウントとメールサーバー情報
* RubyGemsでsqlite3-rubyを入れておく

使い方
----------------

1. **skype2mail.rb** の冒頭の方の、**maindb**のところでSkypeのデータベースファイルのパスを設定する
1. **skype2mail.rb** の冒頭の方の、**mail_config**のところで送信するメールに関する情報を設定する
1. **skype2mail.rb** をcronにでも登録して毎日実行するようにする

メモ
----------------

**last_filename**は、前回実行時の最後の日付を保存するファイル名。次回実行時はこの日付の続きから処理される。ファイルがない場合はSkypeに保存されている最古のログから処理する。

**max_days**は、一回の実行で送信する最大の日数。最古のログから全部やろうとするので、メールサーバーに負担をかけないように、一定の日数を処理したら止まるようになってる。デフォルトは10。

**max_entries**は、1通のメールに入れる最大のログの件数。1日分のログがこの件数を超えている場合、分割される。デフォルトは200。
